Version 4
SHEET 1 4024 684
WIRE 2016 -448 1984 -448
WIRE 2352 -448 2320 -448
WIRE 1584 -416 1584 -496
WIRE 1712 -416 1712 -496
WIRE 2016 -400 1984 -400
WIRE 2352 -400 2320 -400
WIRE 1584 -304 1584 -336
WIRE 1712 -304 1712 -336
WIRE 1712 -304 1584 -304
WIRE 1584 -288 1584 -304
WIRE 2048 -112 2048 -160
WIRE 2048 112 2048 -48
WIRE 2048 112 1856 112
WIRE 2432 112 2288 112
WIRE 2480 112 2432 112
WIRE 2288 160 2288 112
WIRE 2432 208 2432 112
WIRE 2288 336 2288 240
WIRE 2208 384 2080 384
WIRE 2432 384 2432 272
WIRE 2432 384 2304 384
WIRE 2608 384 2432 384
WIRE 2704 384 2608 384
WIRE 2608 448 2608 384
WIRE 2080 464 2080 384
WIRE 2608 576 2608 512
WIRE 2080 624 2080 544
FLAG 2080 624 0
FLAG 2608 576 0
FLAG 1584 -288 0
FLAG 1584 -496 Vusb2
FLAG 1712 -496 Vpainel2
FLAG 1984 -448 Vpainel2
FLAG 1984 -400 0
FLAG 2320 -400 0
FLAG 2320 -448 Vusb2
FLAG 2400 -384 Vusb2
FLAG 2400 -464 Vusb_swo2
FLAG 2064 -384 Vpainel2
FLAG 2064 -464 Vpainel_swo2
FLAG 2704 384 Vout2
FLAG 1792 112 Vusb2
FLAG 2048 -160 Vpainel2
DATAFLAG 2080 384 ""
DATAFLAG 2480 112 "$-V(N010)"
DATAFLAG 1712 -464 ""
DATAFLAG 1584 -464 ""
DATAFLAG 2592 384 ""
SYMBOL pmos 2208 336 M90
SYMATTR InstName M4
SYMATTR Value FDR840P
SYMBOL res 2272 144 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL Misc\\battery 2080 448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 4
SYMBOL voltage 1584 -432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V5
SYMATTR Value 1
SYMBOL voltage 1712 -432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V6
SYMATTR Value 1
SYMBOL sw 2064 -368 M180
SYMATTR InstName S3
SYMBOL sw 2400 -368 M180
SYMATTR InstName S4
SYMBOL load 2592 448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName R5
SYMATTR Value 500m
SYMBOL schottky 2032 -112 R0
SYMATTR InstName D1
SYMATTR Value 1N5817
SYMBOL schottky 1792 128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 -16 35 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N5817
SYMBOL schottky 2416 208 R0
SYMATTR InstName D3
SYMATTR Value 1N5817
TEXT 2528 88 Left 2 ;Vdiodo
TEXT 2584 -392 Left 2 !.model SW sw()
TEXT 2584 -416 Left 2 !;.step param I list 100m
TEXT 2584 -368 Left 2 !.meas Pusb AVG -V(Vusb2)*I(V5)\n.meas Pin AVG -I(V6)*V(Vpainel2)\n.meas Pout AVG V(Vout2)*I(R5)\n.meas Eff param Pout/(Pin + Pusb)
TEXT 2584 -472 Left 2 !.tran 0.1
